Text Query Using Classes and shared_ptr